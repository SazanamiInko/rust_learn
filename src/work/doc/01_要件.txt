小売業のクロワッサンモーニング社では、自社株主へ株主優待として、自社店舗で利用できる商品券を発行することにした。
株主の保有株数と保有期間によって、発行額を決定する。
この会社では、毎年3月31日の株取引終了時点で自社株を保有している株主を対象として株主一覧を作成しており、
商品券は20xx年3月31日に作成した株主一覧に登録されている個人株主に対して発行する。

(1)　株主テーブルは、20xx年3月31日の夜間バッチで作成する。基幹システム株主一覧に登録されている個人株主を対象にとして作成する、
テーブルである。

図１．株主テーブル

① 株主番号には、株主に対して一意に割り当てた番号が設定されている。

② 保有株数には、保有する株数が設定されている。保有株数の最大は、999,999とする。

③ 登録年には、最初に株主一覧に登録された年が設定されている。ただし、株をすべて売却したのちに再取得した株主の場合は、再取得後、株主一覧に登録された年が設定される。

(2)　保有期間は、登録年から20xx年までの年数で決定する。例えば、登録年が2006年の場合は20xx-2006年である。

(3)　この会社が株式公開したのは、1990年4月1日であり、最初に株主一覧へ登録されたのは1991年3月31日である。

(4)　商品券テーブルのテーブル構成は次の通り


図2．商品券テーブル

発行額には、各株主に対する商品券の発行額を設定する。発行額は表1に示す決定表によって決まる。

表1．決定表

